

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>libcommute &mdash; libcommute 0.8.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/_static/theme_overrides.css" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=486e5634"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Installation instructions" href="installation.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            libcommute
              <img src="_static/logo_small.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">How to use <em>libcommute</em> in your project</a></li>
<li class="toctree-l1"><a class="reference internal" href="expression/index.html">Domain-Specific Language for polynomial expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="loperator/index.html">Tools for exact diagonalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">Advanced examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="search.html">Search Page</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">libcommute</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">libcommute</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="libcommute">
<h1>libcommute<a class="headerlink" href="#libcommute" title="Link to this heading"></a></h1>
<p><em>libcommute</em> is a C++11/14/17 template library that includes two major parts.</p>
<ul class="simple">
<li><p>A Domain-Specific Language (DSL) designed to easily construct and manipulate
polynomial expressions with quantum-mechanical operators,
especially those used in the quantum many-body theory. The most commonly
used instances of such expressions are many-body Hamiltonians and operators
of physical observables.</p></li>
<li><p>A fast intermediate representation of the quantum-mechanical operators
that enables their action on state vectors in finite-dimensional Hilbert
spaces. This feature provides a basis for writing highly performant Exact
Diagonalization (ED) codes without loss of flexibility.</p></li>
</ul>
<p><em>libcommute</em> offers a bunch of features and is extensible in a number of ways.</p>
<ul class="simple">
<li><p>The <a class="reference internal" href="expression/expression.html#_CPPv4I0DpEN10libcommute10expressionE" title="libcommute::expression"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">libcommute::expression</span></code></a> class is an arbitrary polynomial
expression that can mix bosonic/fermionic
(<a class="reference external" href="https://en.wikipedia.org/wiki/CCR_and_CAR_algebras">CCR and CAR algebras</a>)
and spin operators. It supports all standard arithmetic operations,
compound-assignment operators, Hermitian conjugation and gives access to
individual monomials via an iteration interface. No matrix representation is
internally used to store the expressions, so there is virtually no limit on
their size.</p></li>
<li><p>Algebra generators such as fermionic creation/annihilation operators
<span class="math notranslate nohighlight">\(\hat c^\dagger_{i,j,k,\ldots}\)</span>
(<span class="math notranslate nohighlight">\(\hat c_{i,j,k,\ldots}\)</span>) are templated on the number and types of the
indices <span class="math notranslate nohighlight">\(i,j,k,\ldots\)</span>. It is, therefore, easy to implement notation
that is most natural for the problem at hand.</p></li>
<li><p>With a C++17-capable compiler, it is also possible to use dynamically-typed
indices on the generators. More specifically, every single generator in an
expression can carry its own sequence of indices <span class="math notranslate nohighlight">\(i,j,k,\ldots\)</span>.
Neither lengths of the sequences nor types of their elements have to agree
between different generators.</p></li>
<li><p>Coefficients of the polynomial expressions can be real, complex
(<code class="docutils literal notranslate"><span class="pre">std::complex&lt;T&gt;</span></code>) or of any user-defined type <code class="docutils literal notranslate"><span class="pre">S</span></code> (one needs to
specialize the structure <code class="docutils literal notranslate"><span class="pre">scalar_traits&lt;S&gt;</span></code> for that type).</p></li>
<li><p>User-defined commutation/anticommutation operator algebras can be added via
inheritance from the abstract base class <a class="reference internal" href="expression/generator.html#_CPPv4IDpEN10libcommute9generatorE" title="libcommute::generator"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">libcommute::generator</span></code></a>.</p></li>
<li><p>The common shorthand notation <span class="math notranslate nohighlight">\(\pm \text{H.c.}\)</span> is supported in
the expressions (credits to
<a class="reference external" href="https://github.com/dafer45">Kristofer Björnson</a> for his original
implementation of this idea in the
<a class="reference external" href="https://github.com/dafer45/TBTK">TBTK library</a>).</p></li>
<li><p>The <a class="reference internal" href="loperator/loperator.html#_CPPv4I0_DpiEN10libcommute9loperatorE" title="libcommute::loperator"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">libcommute::loperator</span></code></a> class translates an expression into
a form, where it can be quickly acted with on a state vector.</p></li>
<li><p>A state vector is a container type modeling a special
<code class="xref cpp cpp-concept docutils literal notranslate"><span class="pre">StateVector</span></code> concept. By default,
<a class="reference internal" href="loperator/loperator.html#_CPPv4I0_DpiEN10libcommute9loperatorE" title="libcommute::loperator"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">libcommute::loperator</span></code></a> will
work with any container that gives read/write access to its elements
via <code class="docutils literal notranslate"><span class="pre">operator[]</span></code> and exposes its size via a <code class="docutils literal notranslate"><span class="pre">size()</span></code> method
(<code class="docutils literal notranslate"><span class="pre">std::vector&lt;T&gt;</span></code> is one example).
If there is a quicker way to perform a specific operation on a user-defined
container type (for instance, setting all vector’s elements to 0),
it can be implemented by overloading the corresponding free function
(part of the concept).</p></li>
<li><p><cite>libcommute::loperator</cite> mirrors <cite>libcommute::expression</cite> in the manner
it can be extended to support more commutation/anticommutation algebras.</p></li>
<li><p>As a bonus, there is an utility class
<a class="reference internal" href="loperator/space_partition.html#_CPPv4N10libcommute15space_partitionE" title="libcommute::space_partition"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">libcommute::space_partition</span></code></a>,
which implements the Hilbert space partitioning algorithm
(<a class="reference external" href="http://dx.doi.org/10.1016/j.cpc.2015.10.023">Computer Physics Communications 200, March 2016, 274-284</a>, Sec. 4.2).</p></li>
</ul>
<p>Follow the links in the contents table below to learn more about
<em>libcommute</em>’s capabilities and see some usage examples.</p>
<p>Being a header-only template library, <em>libcommute</em> does not require
installation. However, you may still choose to follow the <a class="reference internal" href="installation.html#installation"><span class="std std-ref">Installation instructions</span></a>
to build and run unit tests, build examples, and install the library so that it
is discoverable by other CMake-based projects. The source code repository and
the issue tracker are hosted on
<a class="reference external" href="https://github.com/krivenko/libcommute">GitHub</a>.</p>
<p><em>libcommute</em> is distributed under the terms of the <em>Mozilla Public License,
v. 2.0</em>. You can obtain a copy of the MPL at <a class="reference external" href="http://mozilla.org/MPL/2.0/">http://mozilla.org/MPL/2.0/</a>.</p>
</section>
<section id="contents">
<h1>Contents<a class="headerlink" href="#contents" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound" id="mastertoc">
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation instructions</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">How to use <em>libcommute</em> in your project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="usage.html#makefiles-no-build-system">Makefiles/no build system</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#pkg-config">pkg-config</a></li>
<li class="toctree-l2"><a class="reference internal" href="usage.html#cmake">CMake</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="expression/index.html">Domain-Specific Language for polynomial expressions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="expression/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="expression/expression.html">Polynomial expressions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="expression/expression.html#class-definitions">Class definitions</a></li>
<li class="toctree-l3"><a class="reference internal" href="expression/expression.html#custom-scalar-types">Custom scalar types</a></li>
<li class="toctree-l3"><a class="reference internal" href="expression/expression.html#c-17-dynamically-typed-index-sequences">[C++17] Dynamically typed index sequences</a></li>
<li class="toctree-l3"><a class="reference internal" href="expression/expression.html#iteration-interface-and-transformations">Iteration interface and transformations</a></li>
<li class="toctree-l3"><a class="reference internal" href="expression/expression.html#pm-h-c-notation"><span class="math notranslate nohighlight">\(\pm H.c.\)</span> notation</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="expression/monomial.html">Monomial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="expression/monomial.html#_CPPv4IDpEN10libcommute8monomialE"><code class="docutils literal notranslate"><span class="pre">monomial</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="expression/generator.html">Algebra generators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="expression/generator.html#generator-abstract-base-class-for-algebra-generators"><code class="docutils literal notranslate"><span class="pre">generator</span></code>: abstract base class for algebra generators</a></li>
<li class="toctree-l3"><a class="reference internal" href="expression/generator.html#fermions">Fermions</a></li>
<li class="toctree-l3"><a class="reference internal" href="expression/generator.html#bosons">Bosons</a></li>
<li class="toctree-l3"><a class="reference internal" href="expression/generator.html#spins">Spins</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="expression/factories.html">Factory functions for creation/annihilation/spin operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="expression/factories.html#statically-typed-indices">Statically typed indices</a></li>
<li class="toctree-l3"><a class="reference internal" href="expression/factories.html#c-17-dynamically-typed-index-sequences">[C++17] Dynamically typed index sequences</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="expression/gamma.html">Advanced: A user-defined algebra</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="loperator/index.html">Tools for exact diagonalization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="loperator/intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="loperator/hilbert_space.html">Finite-dimensional Hilbert spaces</a><ul>
<li class="toctree-l3"><a class="reference internal" href="loperator/hilbert_space.html#_CPPv4IDpEN10libcommute13hilbert_spaceE"><code class="docutils literal notranslate"><span class="pre">hilbert_space</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="loperator/hilbert_space.html#_CPPv4I0Dp0EN10libcommute18make_hilbert_spaceE13hilbert_spaceIDp10IndexTypesERK10expressionI10ScalarTypeDp10IndexTypesERR13ESConstructor"><code class="docutils literal notranslate"><span class="pre">make_hilbert_space()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="loperator/hilbert_space.html#elementary-spaces">Elementary spaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="loperator/hilbert_space.html#advanced-customization-of-automatic-hilbert-space-construction">Advanced: Customization of automatic Hilbert space construction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="loperator/loperator.html">Linear operators</a><ul>
<li class="toctree-l3"><a class="reference internal" href="loperator/loperator.html#simple-linear-operator">Simple linear operator</a></li>
<li class="toctree-l3"><a class="reference internal" href="loperator/loperator.html#parametric-linear-operator">Parametric linear operator</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="loperator/monomial_action.html">Advanced: Linear operator representation of a user-defined algebra</a><ul>
<li class="toctree-l3"><a class="reference internal" href="loperator/monomial_action.html#_CPPv4I_iEN10libcommute15monomial_actionE"><code class="docutils literal notranslate"><span class="pre">monomial_action</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="loperator/state_vector.html">State vectors</a><ul>
<li class="toctree-l3"><a class="reference internal" href="loperator/state_vector.html#statevector-concept"><code class="docutils literal notranslate"><span class="pre">StateVector</span></code> concept</a></li>
<li class="toctree-l3"><a class="reference internal" href="loperator/state_vector.html#sparse-state-vector">Sparse state vector</a></li>
<li class="toctree-l3"><a class="reference internal" href="loperator/state_vector.html#mapped-basis-view">Mapped basis view</a></li>
<li class="toctree-l3"><a class="reference internal" href="loperator/state_vector.html#n-fermion-sector-views">N-fermion sector views</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="loperator/space_partition.html">Finding invariant subspaces of a linear operator</a><ul>
<li class="toctree-l3"><a class="reference internal" href="loperator/space_partition.html#_CPPv4I0EN10libcommute19matrix_elements_mapE"><code class="docutils literal notranslate"><span class="pre">matrix_elements_map</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="loperator/space_partition.html#_CPPv4N10libcommute15space_partitionE"><code class="docutils literal notranslate"><span class="pre">space_partition</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">Advanced examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples/kanamori.html">Kanamori interaction Hamiltonian</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/jaynes_cummings.html">Jaynes-Cummings ladder</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/heisenberg_chain.html">Spin-1/2 Heisenberg chain and its integrals of motion</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/parametric_loperator.html">Custom scalar types and <code class="docutils literal notranslate"><span class="pre">parametric_loperator</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/virasoro_algebra.html">Virasoro algebra</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/n_fermion_sectors.html">N-fermion sector views and exact diagonalization with Eigen 3</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/hubbard_holstein_1d.html">Partial diagonalization of a one-dimensional Hubbard-Holstein model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#unreleased">[1.0.0] - Unreleased</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id1">[0.7.2] - 2022-11-12</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id2">[0.7.1] - 2021-12-17</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id3">[0.7.0] - 2021-10-09</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html#id4">[0.6.1] - 2021-03-30</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="search.html">Search Page</a></li>
</ul>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installation.html" class="btn btn-neutral float-right" title="Installation instructions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2016-2025, Igor Krivenko.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>